fix:
  sessions:
    - sessionId: "FIX.4.4:GTWY->BANZ"
      type: "ACCEPTOR"
      senderCompId: "GTWY"
      targetCompId: "BANZ"
      host: "0.0.0.0"
      port: 9881
      fixVersion: "FIX.4.4"
      dictionary: "FIX44.xml"
      enabled: true
      heartbeatInterval: 30
      resetOnLogon: true
      resetOnLogout: true
      resetOnDisconnect: true
      inputPartitions: 3
      partitionStrategy: KEY
      partitionExpression: |
        Symbol
      
    - sessionId: "FIX.4.4:GTWY->EXEC"
      type: "INITIATOR"
      senderCompId: "GTWY"
      targetCompId: "EXEC"
      host: "localhost"
      port: 9880
      fixVersion: "FIX.4.4"
      dictionary: "FIX44.xml"
      enabled: true
      heartbeatInterval: 30
      resetOnLogon: true
      resetOnLogout: true
      resetOnDisconnect: true
      partitionStrategy: KEY
      partitionExpression: |
        Symbol

 
#      if (MsgType == "D") {
#         return 1;
#       } else if (MsgType == "8") {
#         return 0;
#       } else {
#         return 2;
#       }
          
      
      
    # Example session with EXPR strategy (explicit partition number)
    # - sessionId: "FIX.4.4:GTWY->HEDGE"
    #   type: "ACCEPTOR"
    #   senderCompId: "GTWY"
    #   targetCompId: "HEDGE"
    #   host: "0.0.0.0"
    #   port: 9882
    #   fixVersion: "FIX.4.4"
    #   dictionary: "FIX44.xml"
    #   enabled: true
    #   heartbeatInterval: 30
    #   resetOnLogon: true
    #   resetOnLogout: true
    #   resetOnDisconnect: true
    #   inputPartitions: 4
    #   partitionStrategy: EXPR
    #   partitionExpression: |
    #     // Example: Route based on MsgType and Symbol
    #     if (MsgType == "D" && ClOrdID == "1" && Symbol == "MSFT") {
    #       1  // Partition 1 for specific orders
    #     } else {
    #       2  // Partition 2 for all other messages
    #     }
